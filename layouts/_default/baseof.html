<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{{ .Title }}{{ if not .IsHome}} | {{ .Site.Title }}{{end}}</title>
    <link rel="shortcut icon" type="image/png" href="/favicon.png" />

    {{ block "extra_css" . }}{{ end }}

    <script src="https://kit.fontawesome.com/145f1cd7f7.js"></script>

    {{- $cssOpts := (dict "targetPath" "css/main.css" "enableSourceMap" true ) -}}
    {{- $postcssOpts := (dict "config" "assets/config/postcss.config.js" ) -}}
    {{- if .Site.IsServer -}}
    {{- $styles := resources.Get "scss/main.scss" | toCSS $cssOpts | postCSS $postcssOpts }}
    <link rel="stylesheet" href="{{ $styles.Permalink }}" media="screen">
    {{- else -}}
    {{- $styles := resources.Get "scss/main.scss" | toCSS $cssOpts | postCSS $postcssOpts | fingerprint }}
    <link rel="stylesheet" href="{{ $styles.Permalink }}" integrity="{{ $styles.Data.Integrity }}" media="screen">
    {{- end }}
</head>

<body>
    <div id="main">
        {{ block "header" . }}
        {{ partial "header" . }}
        {{ end -}}

        {{ block "main" . }}
        {{ end -}}

        {{ block "footer" . }}
        {{ partial "footer" . }}
        {{ end -}}
    </div>

    {{ block "extra_js" .}}
    {{ end }}
</body>

</html>